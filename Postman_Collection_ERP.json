{
	"info": {
		"_postman_id": "erp-system-2025",
		"name": "Sistema ERP Completo - Laravel",
		"description": "API completa para el sistema ERP con Proveedores, Compras, Cotizaciones e Inventario",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "üîê Autenticaci√≥n",
			"item": [
				{
					"name": "Login Admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('auth_token', response.token);",
									"    console.log('Token guardado:', response.token);",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"admin@test.com\",\n    \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/login",
							"host": ["{{base_url}}"],
							"path": ["auth", "login"]
						}
					}
				},
				{
					"name": "Perfil Usuario",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/auth/profile",
							"host": ["{{base_url}}"],
							"path": ["auth", "profile"]
						}
					}
				}
			]
		},
		{
			"name": "üè¢ Proveedores",
			"item": [
				{
					"name": "Listar Proveedores",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/suppliers?per_page=10&active=true",
							"host": ["{{base_url}}"],
							"path": ["suppliers"],
							"query": [
								{
									"key": "per_page",
									"value": "10"
								},
								{
									"key": "active",
									"value": "true"
								},
								{
									"key": "search",
									"value": "",
									"disabled": true
								}
							]
						}
					}
				},
				{
					"name": "Crear Proveedor",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('supplier_id', response.data.id);",
									"    console.log('Proveedor creado con ID:', response.data.id);",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Proveedor ABC S.A.\",\n    \"email\": \"contacto@proveedorabc.com\",\n    \"phone\": \"555-0123\",\n    \"address\": \"Av. Principal 123, Ciudad\",\n    \"contact_person\": \"Juan P√©rez\",\n    \"tax_id\": \"1234567890\",\n    \"notes\": \"Proveedor principal de insumos\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/suppliers",
							"host": ["{{base_url}}"],
							"path": ["suppliers"]
						}
					}
				},
				{
					"name": "Ver Proveedor",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/suppliers/{{supplier_id}}",
							"host": ["{{base_url}}"],
							"path": ["suppliers", "{{supplier_id}}"]
						}
					}
				},
				{
					"name": "Actualizar Proveedor",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Proveedor ABC S.A. - Actualizado\",\n    \"phone\": \"555-0124\",\n    \"notes\": \"Proveedor actualizado\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/suppliers/{{supplier_id}}",
							"host": ["{{base_url}}"],
							"path": ["suppliers", "{{supplier_id}}"]
						}
					}
				},
				{
					"name": "Proveedores Activos (Select)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/suppliers-active",
							"host": ["{{base_url}}"],
							"path": ["suppliers-active"]
						}
					}
				},
				{
					"name": "Activar/Desactivar Proveedor",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/suppliers/{{supplier_id}}/toggle-status",
							"host": ["{{base_url}}"],
							"path": ["suppliers", "{{supplier_id}}", "toggle-status"]
						}
					}
				}
			]
		},
		{
			"name": "üì¶ Productos",
			"item": [
				{
					"name": "Listar Productos",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/products?per_page=10",
							"host": ["{{base_url}}"],
							"path": ["products"],
							"query": [
								{
									"key": "per_page",
									"value": "10"
								}
							]
						}
					}
				},
				{
					"name": "Crear Producto",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('product_id', response.data.id);",
									"    console.log('Producto creado con ID:', response.data.id);",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Producto de Prueba ERP\",\n    \"description\": \"Producto para probar el sistema ERP\",\n    \"price\": 25.99,\n    \"stock\": 100,\n    \"type\": \"product\",\n    \"sku\": \"PROD-001\",\n    \"cost_price\": 15.50\n}"
						},
						"url": {
							"raw": "{{base_url}}/products",
							"host": ["{{base_url}}"],
							"path": ["products"]
						}
					}
				}
			]
		},
		{
			"name": "üõí Compras",
			"item": [
				{
					"name": "Listar Compras",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/purchases?per_page=10",
							"host": ["{{base_url}}"],
							"path": ["purchases"],
							"query": [
								{
									"key": "per_page",
									"value": "10"
								},
								{
									"key": "status",
									"value": "",
									"disabled": true
								},
								{
									"key": "supplier_id",
									"value": "",
									"disabled": true
								}
							]
						}
					}
				},
				{
					"name": "Crear Compra",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('purchase_id', response.data.id);",
									"    console.log('Compra creada con ID:', response.data.id);",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"supplier_id\": {{supplier_id}},\n    \"purchase_date\": \"2025-10-09\",\n    \"notes\": \"Compra de prueba del sistema ERP\",\n    \"items\": [\n        {\n            \"product_id\": {{product_id}},\n            \"quantity\": 50,\n            \"cost_price\": 15.00\n        }\n    ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/purchases",
							"host": ["{{base_url}}"],
							"path": ["purchases"]
						}
					}
				},
				{
					"name": "Ver Compra",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/purchases/{{purchase_id}}",
							"host": ["{{base_url}}"],
							"path": ["purchases", "{{purchase_id}}"]
						}
					}
				},
				{
					"name": "Recibir Mercanc√≠a",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/purchases/{{purchase_id}}/receive",
							"host": ["{{base_url}}"],
							"path": ["purchases", "{{purchase_id}}", "receive"]
						}
					}
				},
				{
					"name": "Estad√≠sticas de Compras",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/purchases-stats?date_from=2025-10-01&date_to=2025-10-31",
							"host": ["{{base_url}}"],
							"path": ["purchases-stats"],
							"query": [
								{
									"key": "date_from",
									"value": "2025-10-01"
								},
								{
									"key": "date_to",
									"value": "2025-10-31"
								}
							]
						}
					}
				}
			]
		},
		{
			"name": "üë• Clientes",
			"item": [
				{
					"name": "Crear Cliente",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('customer_id', response.data.id);",
									"    console.log('Cliente creado con ID:', response.data.id);",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Cliente ERP Test\",\n    \"email\": \"cliente@test.com\",\n    \"phone\": \"555-9876\",\n    \"address\": \"Calle Falsa 123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/customers",
							"host": ["{{base_url}}"],
							"path": ["customers"]
						}
					}
				}
			]
		},
		{
			"name": "üí° Cotizaciones",
			"item": [
				{
					"name": "Listar Cotizaciones",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/quotes?per_page=10",
							"host": ["{{base_url}}"],
							"path": ["quotes"],
							"query": [
								{
									"key": "per_page",
									"value": "10"
								},
								{
									"key": "status",
									"value": "",
									"disabled": true
								},
								{
									"key": "customer_id",
									"value": "",
									"disabled": true
								}
							]
						}
					}
				},
				{
					"name": "Crear Cotizaci√≥n",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('quote_id', response.data.id);",
									"    console.log('Cotizaci√≥n creada con ID:', response.data.id);",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"customer_id\": {{customer_id}},\n    \"quote_date\": \"2025-10-09\",\n    \"valid_until\": \"2025-10-30\",\n    \"notes\": \"Cotizaci√≥n de prueba del sistema ERP\",\n    \"items\": [\n        {\n            \"product_id\": {{product_id}},\n            \"quantity\": 10,\n            \"price\": 25.99\n        }\n    ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/quotes",
							"host": ["{{base_url}}"],
							"path": ["quotes"]
						}
					}
				},
				{
					"name": "Ver Cotizaci√≥n",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/quotes/{{quote_id}}",
							"host": ["{{base_url}}"],
							"path": ["quotes", "{{quote_id}}"]
						}
					}
				},
				{
					"name": "Enviar Cotizaci√≥n",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/quotes/{{quote_id}}/send",
							"host": ["{{base_url}}"],
							"path": ["quotes", "{{quote_id}}", "send"]
						}
					}
				},
				{
					"name": "Aprobar Cotizaci√≥n",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/quotes/{{quote_id}}/approve",
							"host": ["{{base_url}}"],
							"path": ["quotes", "{{quote_id}}", "approve"]
						}
					}
				},
				{
					"name": "Convertir a Factura",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('invoice_id', response.data.invoice.id);",
									"    console.log('Factura creada con ID:', response.data.invoice.id);",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/quotes/{{quote_id}}/convert-to-invoice",
							"host": ["{{base_url}}"],
							"path": ["quotes", "{{quote_id}}", "convert-to-invoice"]
						}
					}
				},
				{
					"name": "Estad√≠sticas de Cotizaciones",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/quotes-stats?date_from=2025-10-01&date_to=2025-10-31",
							"host": ["{{base_url}}"],
							"path": ["quotes-stats"],
							"query": [
								{
									"key": "date_from",
									"value": "2025-10-01"
								},
								{
									"key": "date_to",
									"value": "2025-10-31"
								}
							]
						}
					}
				}
			]
		},
		{
			"name": "üìä Inventario",
			"item": [
				{
					"name": "Movimientos de Inventario",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/inventory-movements?per_page=20",
							"host": ["{{base_url}}"],
							"path": ["inventory-movements"],
							"query": [
								{
									"key": "per_page",
									"value": "20"
								},
								{
									"key": "product_id",
									"value": "",
									"disabled": true
								},
								{
									"key": "type",
									"value": "",
									"disabled": true
								}
							]
						}
					}
				},
				{
					"name": "Crear Ajuste de Inventario",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"product_id\": {{product_id}},\n    \"quantity\": 25,\n    \"notes\": \"Ajuste manual de inventario - producto encontrado en almac√©n\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/inventory-adjustments",
							"host": ["{{base_url}}"],
							"path": ["inventory-adjustments"]
						}
					}
				},
				{
					"name": "Resumen de Inventario",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/inventory-summary",
							"host": ["{{base_url}}"],
							"path": ["inventory-summary"],
							"query": [
								{
									"key": "type",
									"value": "",
									"disabled": true
								},
								{
									"key": "low_stock",
									"value": "true",
									"disabled": true
								}
							]
						}
					}
				},
				{
					"name": "Estad√≠sticas de Movimientos",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/inventory-stats?date_from=2025-10-01&date_to=2025-10-31",
							"host": ["{{base_url}}"],
							"path": ["inventory-stats"],
							"query": [
								{
									"key": "date_from",
									"value": "2025-10-01"
								},
								{
									"key": "date_to",
									"value": "2025-10-31"
								}
							]
						}
					}
				},
				{
					"name": "Alertas de Inventario",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/inventory-alerts",
							"host": ["{{base_url}}"],
							"path": ["inventory-alerts"]
						}
					}
				},
				{
					"name": "Movimientos por Producto",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/inventory-movements/product/{{product_id}}?per_page=15",
							"host": ["{{base_url}}"],
							"path": ["inventory-movements", "product", "{{product_id}}"],
							"query": [
								{
									"key": "per_page",
									"value": "15"
								},
								{
									"key": "type",
									"value": "",
									"disabled": true
								}
							]
						}
					}
				}
			]
		},
		{
			"name": "üìÑ Facturas",
			"item": [
				{
					"name": "Ver Factura",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/invoices/{{invoice_id}}",
							"host": ["{{base_url}}"],
							"path": ["invoices", "{{invoice_id}}"]
						}
					}
				},
				{
					"name": "Listar Facturas",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/invoices?per_page=10",
							"host": ["{{base_url}}"],
							"path": ["invoices"],
							"query": [
								{
									"key": "per_page",
									"value": "10"
								}
							]
						}
					}
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000/api"
		}
	]
}